<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NutriGarden</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<div class="phone">

  <!-- 1. Welcome -->
  <div id="screen-welcome" class="screen active">
    <h1>NutriGarden</h1>

    <label>Name:
      <input id="username" placeholder="Enter your name" />
    </label>

    <label>Date of birth:
      <input id="dob" type="date" />
    </label>

    <label>Gender:
      <select id="gender-welcome">
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other</option>
      </select>
    </label>

    <label>Length (cm):
      <input id="length" type="number" min="0" />
    </label>

    <label>Weight (kg):
      <input id="weight" type="number" step="0.1" min="0" />
    </label>
    <button id="btn-gen-realistic" class="full-btn">Generate goals</button>
    <button id="btn-gen-own" class="full-btn">Set own goals</button>
  </div>
  <!-- 1.5 Info Screen: How goals are generated -->
<div id="screen-info-goals" class="screen">
  <h2>Your Personalized Goals</h2>

  <div class="hint" style="line-height:1.5;">
    <p>Your daily goals are automatically calculated just for you, based on your profile and how active you are. That way, your flowers (and your body) get exactly what they need!</p>
    
    <p>We calculate your Basal Metabolic Rate (BMR) using the Mifflin-St Jeor formula, which takes into account your age, weight, height, and gender. This is the energy your body needs just to keep running while you’re chilling.</p>
    
    <p>Next, we add an Activity Factor based on how many workouts you do per week. More activity = more fuel, so your goals adjust to match your lifestyle.</p>
    
    <p>Fat targets are set as a percentage of your total calories to make sure you get enough healthy fats. The exact amount depends on how active you are.</p>
    
    <p>Carbs fill in the rest of your energy needs after protein and fat are accounted for. This ensures you have enough energy to move, think, and grow your garden!</p>
    
    <p>Hydration is personalized too, based on your weight and activity level. Extra workouts? Extra water—your flowers and your body will thank you.</p>
  </div>

  <div class="row">
    <button class="btn-return" data-target="screen-welcome">Return</button>
    <button id="btn-info-continue" class="full-btn">Continue</button>
  </div>
</div>

  <!-- 2. Realistic Goal (kept but not used) -->
  <div id="screen-gen-realistic" class="screen">
    <h2>Realistic Goal</h2>

    <label>Gender:
      <select id="gender">
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other</option>
      </select>
    </label>

    <label>Age:
      <input id="age" type="number" min="1">
    </label>

    <label>Weight (kg):
      <input id="weight2" type="number" step="0.1">
    </label>

    <label>Height (cm):
      <input id="height" type="number" step="0.1">
    </label>

    <div class="row">
      <button class="btn-return" data-target="screen-welcome">Return</button>
      <button id="btn-realistic-continue">Continue</button>
    </div>
  </div>

  <!-- 2.1 Tracking Selection -->
  <div id="screen-track-choose" class="screen">
    <h2>What do you want to track?</h2>

    <!-- NEW: sport frequency -->
    <label>How often do you exercise per week?
      <select id="workouts-per-week">
        <option value="0">0 (rarely)</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3" selected>3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
      </select>
    </label>

    <div id="realistic-hint" class="hint" style="display:none;">
      In “realistic goal” mode we calculate daily targets based on your age/sex/height/weight + workouts/week.
      You can still choose which nutrients you want to track.
    </div>

    <div id="track-list" class="chip-list"></div>

    <div class="add-row">
      <select id="add-track-select">
        <option value="hydration" data-unit="L">Hydration</option>
        <option value="protein" data-unit="g">Protein</option>
        <option value="carbs" data-unit="g">Carbs</option>
        <option value="fat" data-unit="g">Fat</option>
      </select>
      <button id="add-track-btn">+</button>
    </div>

    <div class="row">
      <button class="btn-return" data-target="screen-welcome">Return</button>
      <button id="track-continue">Continue</button>
    </div>
  </div>

  <!-- 3. Own Goals -->
  <div id="screen-gen-own" class="screen">
    <h2>Set Your Own Goals</h2>

    <div id="own-track-list" class="chip-list"></div>

    <div class="add-row">
      <select id="add-own-select">
        <option value="hydration" data-unit="L">Hydration</option>
        <option value="protein" data-unit="g">Protein</option>
        <option value="carbs" data-unit="g">Carbs</option>
        <option value="fat" data-unit="g">Fat</option>
      </select>
      <button id="add-own-btn">+</button>
    </div>

    <div class="row">
      <button class="btn-return" data-target="screen-welcome">Return</button>
      <button id="own-continue">Continue</button>
    </div>
  </div>

  <!-- 4. Garden -->
  <div id="screen-garden" class="screen">
    <h2>Garden</h2>

    <div id="garden" class="garden-grid"></div>

    <div class="bottom-bar">
      <button id="btn-change-tracked">Change tracked nutrients</button>
      <button id="btn-add-food">Add food</button>
    </div>
  </div>

  <!-- 4.1 Flower Detail -->
  <div id="screen-flower" class="screen">
    <button class="btn-return" data-target="screen-garden">← Back</button>

    <div id="flower-preview" class="flower-preview"></div>
    <h3 id="flower-nutrient"></h3>
    <div id="flower-progress-text"></div>

    <canvas id="flower-graph" width="300" height="140"></canvas>
    <div id="flower-stage-text" class="stage-text"></div>

  </div>

  <!-- 4.2 Add Food -->
  <div id="screen-add-food" class="screen">
    <h2>Add Food / Drink</h2>

    <label>Food name:
      <input id="food-name" placeholder="banana" />
    </label>

    <label>Amount (grams):
      <input id="food-grams" type="number" min="1" step="1" value="100" />
    </label>

  <div class="row">
    
<button id="btn-food-analyze" class="full-btn">Analyze Food</button>
    <div id="food-status" class="status status-idle">Fill name + grams, then Analyze.</div>
  </div>


    <h3 class="subhead">Will be tracked (editable):</h3>
    <div id="food-values"></div>

    <div class="row">
      <button class="btn-return" data-target="screen-garden">Return</button>
      <button id="btn-add-food-save">Add</button>
    </div>
  </div>

</div>

<button id="skip-btn" class="skip-btn">Skip</button>

<script src="app.js"></script>
</body>
</html>
